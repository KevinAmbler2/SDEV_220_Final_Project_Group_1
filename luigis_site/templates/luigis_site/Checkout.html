{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
    <title>Luigi's Pizza :: Checkout</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Luigi's Pizza. The best pizza in town for the last 50 years.">
    <link rel="stylesheet" href="{% static 'css/luigis_site.css' %}">
    <script>
        $(document).ready(function() {
            alert("March Discount: â€”20% off with coupon code PIZZATIME");
        });
    </script>
    </head>
<body>
    <header>
        <h1><a href="http://127.0.0.1:8000/">Luigi's Pizza</a></h1>
    </header>
    <nav>
        <ul>
            <li><a href="http://127.0.0.1:8000/">Home</a></li>
            <li><a href="http://127.0.0.1:8000/menu/">Menu</a></li>
            <li><a href="http://127.0.0.1:8000/cart/">Cart</a></li>
            <li><a href="http://127.0.0.1:8000/checkout/">Checkout</a></li>
        </ul>
    </nav>
    <div id="wrapper">
        <div id="greek"></div>
            <main>
                <br>
                <h3>Subtotal:</h3>
                ${{ subtotal }}
                <script>tax = subtotal * TAX_RATE</script>
                <h3>Tax:</h3>
                ${{ tax }}
                <script>total = subtotal + tax</script>
                <h3>Total:</h3>
                ${{ total }}
                <br>
                <p>Required Fields are marked with an asterisk*</p>
                <form method="post" action="{% url 'checkout:submit_checkout' %}" onsubmit="return phoneNumber();">
                        {% csrf_token %}
                    <fieldset>
                        <legend>Select your Payment Method:</legend>
                        <br>

                        <label for="payment">Payment Methods:</label>
                            <input type="text" name="payment" id="payment" list="Payments">
                        <datalist id="Payments">
                            <option value="CreditCard" label="CreditCard">
                            <option value="DebitCard" label="DebitCard">
                        </datalist>
                        <br>
                    </fieldset>

                    <fieldset>
                        <legend>Checkout Details</legend>
                        <label for="myPCode">*Package Code:</label>
                        <input type="text" name="myPCode" id="myPCode" list="PackageCode" required>
                        <datalist id="PackageCode">
                            <option value="#01" label="#01">
                            <option value="#02" label="#02">
                            <option value="#03" label="#03">
                            <option value="#04" label="#04">
                            <option value="#05" label="#05">
                            <option value="#06" label="#06">
                            <option value="#07" label="#07">
                            <option value="#08" label="#08">
                            <option value="#09" label="#09">
                            <option value="#10" label="#10">
                            <option value="#11" label="#11">
                            <option value="#12" label="#12">
                        </datalist>
                        <br>

                        <label for="myFName">*First name:</label>
                            <input type="text" name="myFName" id="myFName" required>
                        <br>

                        <label for="myLName">*Last Name:</label>
                            <input type="text" name="myLName" id="myLName" required>
                        <br>

                        <label for="myCreditCard">*Credit Card</label>
                            <input type="text" name="myCreditCard" id="myCreditCard" required>
                        <br>

                        <label for="myCardExpiration">*Card Expiration</label>
                            <input type="text" name="myCardExpiration" id="myCardExpiration" required>
                        <br>
                        <label for="mySecurityCode">*Security Code</label>
                            <input type="text" name="mySecurityCode" id="mySecurityCode" required>
                        <br>

                        <label for="myStreet">*Street:</label>
                            <input type="text" name="myStreet" id="myStreet" required>
                        <br>

                        <label for="myCity">*City:</label>
                            <input type="text" name="myCity" id="myCity" required>
                        <label for="myCountryState">*Country/State:</label>
                            <input type="text" name="myCountryState" id="myCountryState" required>
                        <label for="myZip">*Zip:</label>
                            <input type="text" name="myZip" id="myZip" required>
                    </fieldset>

                    <fieldset>
                        <legend>Billing Address</legend>
                        <label>Street: <input type="text" name="street" id="street"
                            size="54"></label><br><br>
                        <label>City: <input type="text" name="city" id="city"></label>
                        <label>Country/State: <input type="text" name="countrystate" id="countrystate" maxlength="2"
                            size="5"></label>
                        <label>Zip: <input type="text" name="zip" id="zip" maxlength="5"
                            size="5"></label>
                    </fieldset>

                    <script>
                        function phoneNumber() {
                            const phoneno = /([0-9]{3})-([0-9]{3})-([0-9]{4})/;
                            if( document.forms[0].myPhone.value.match(phoneno)) {
                                return true;}
                            else {
                                alert("Phone number format should be ###-###-####");
                                return false;}
                        }
                    </script>

                    <label for="myPhone">Phone:</label>
                        <input type="text" name="myPhone" id="myPhone">
                    <label for="myEmail">*E-mail:</label> 
                        <input type="email" name="myEmail" id="myEmail" required>
                    <label for="myComments">*Comments:</label>
                        <textarea name="myComments" id="myComments" rows="2" cols="20" required></textarea>
                    <button id="mySubmit" type="submit">Place Order</button>
                </form>
                <br>
            </main>
        <footer>
            <br>
            Copyright &copy; 50 Years Luigi's Pizza<br>
                <a href="mailto:luigispizza.com">luigispizza.com</a>
        </footer>
        </div>
    </body>
</html>
